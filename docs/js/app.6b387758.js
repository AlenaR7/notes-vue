(function(e){function t(t){for(var o,s,r=t[0],c=t[1],l=t[2],u=0,f=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},i=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/notes-vue/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0908":function(e){e.exports=JSON.parse('[{"id":"caf5047f-e9ec-4661-af05-3bc62bf98a12","header":"Заметка 1","todo":[{"id":"caf5047f-e9ec-4661-af05-3bc62bf98a13","name":"Задача 1","done":true},{"id":"caf5047f-e9ec-4661-af05-3bc62bf98a14","name":"Задача 2","done":false},{"id":"caf5047f-e9ec-4661-af05-3bc62bf98a15","name":"Задача 3","done":false}]}]')},1970:function(e,t,n){},5269:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s={},r=s,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,null,null),d=l.exports,u=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notes-ui wrap"},[n("div",{staticClass:"content d-flex flex-column"},[n("div",{staticClass:"header-table d-flex justify-between"},[e._m(0),n("div",{staticClass:"create-note button background-blue d-flex align-center",on:{click:function(t){return e.openCreateModal()}}},[n("i",{staticClass:"fas fa-plus"})])]),n("div",{staticClass:"content-table"},[n("table",{attrs:{border:"1",width:"100%"}},[n("tr",e._l(e.headerTable,(function(t){return n("th",[e._v(e._s(t.text))])})),0),e._l(e.notes,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.header))]),n("td",{staticClass:"d-flex justify-center"},[n("ul",e._l(e.filterTodo(t.todo),(function(o){return n("li",{key:t.todo.id},[n("span",[e._v(e._s(o.name))])])})),0)]),n("td",[n("router-link",{attrs:{to:{name:"ChangeNotesUI",params:{id:t.id}}}},[n("i",{staticClass:"action fas fa-edit green",attrs:{"data-tooltip":"Изменить"}})]),n("i",{staticClass:"action far fa-trash-alt red",attrs:{"data-tooltip":"Удалить"},on:{click:function(n){return e.openDeleteModal(t)}}})],1)])}))],2)])]),n("Dialog",{attrs:{title:"Добавить заметку"},on:{agree:e.createNote},model:{value:e.isCreateModal,callback:function(t){e.isCreateModal=t},expression:"isCreateModal"}},[n("div",{staticClass:"center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.noteName,expression:"noteName"}],attrs:{type:"text",placeholder:"Введите название"},domProps:{value:e.noteName},on:{input:function(t){t.target.composing||(e.noteName=t.target.value)}}})])]),n("Dialog",{attrs:{title:"Вы действительно хотите удалить заметку?"},on:{agree:e.deleteNote},model:{value:e.isDeleteModal,callback:function(t){e.isDeleteModal=t},expression:"isDeleteModal"}})],1)},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("h1",[e._v("Заметки")])])}],h=(n("fb6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",[n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog d-flex flex-column"},[n("div",{staticClass:"header d-flex justify-end"},[n("i",{staticClass:"fas fa-times",on:{click:this.closeDialog}})]),n("div",{staticClass:"center"},[e._v(e._s(e.title))]),e._t("default"),n("div",{staticClass:"d-flex justify-between footer"},[n("div",{staticClass:"disagree butt",on:{click:this.closeDialog}}),n("div",{staticClass:"agree butt",on:{click:e.agreeDialog}})])],2)])]):e._e()}),p=[],m={name:"Dialog",props:["value","title"],data:function(){return{noteName:""}},computed:{isShow:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{agreeDialog:function(){this.$emit("agree")},closeDialog:function(){this.isShow=!1}}},g=m,b=(n("b62e"),Object(c["a"])(g,h,p,!1,null,"48895522",null)),C=b.exports,N=n("ec26"),x=(n("d3b7"),n("7db0"),n("4de4"),n("c740"),n("0908")),_=n("2ef0"),M=n.n(_),w=x,k={getNotes:function(e){return new Promise((function(t,n){var o=M.a.cloneDeep(w);e||t(o),t(o.find((function(t){return t.id===e})))}))},createNote:function(e){return new Promise((function(t,n){w.push(e),t(!0)}))},deleteNote:function(e){return new Promise((function(t,n){w=w.filter((function(t){return t.id!==e})),t(!0)}))},updateNote:function(e,t){return new Promise((function(n,o){var a=w.findIndex((function(t){return t.id===e}));w[a]=t,n(!0)}))}},D={name:"NotesUI",components:{Dialog:C},data:function(){return{headerTable:[{text:"Заголовок",value:"header"},{text:"Задачи",value:"todo"},{text:"Действия",value:"actions"}],note:"",noteName:"",notes:[],limitNotes:10,isDeleteModal:!1,isCreateModal:!1}},created:function(){this.getNotes()},methods:{getNotes:function(){var e=this;k.getNotes().then((function(t){e.notes=t}))},createNote:function(){var e=this,t=Object(N["a"])(),n={id:t,header:this.noteName,todo:[]};this.isCreateModal=!1,k.createNote(n).then((function(n){e.$router.push({name:"ChangeNotesUI",params:{id:t}})}))},deleteNote:function(){var e=this;k.deleteNote(this.note.id).then((function(t){e.getNotes(),e.isDeleteModal=!1,e.note=""}))},openDeleteModal:function(e){this.isDeleteModal=!0,this.note=e},openCreateModal:function(){this.isCreateModal=!0,this.noteName=""},filterTodo:function(e){return this.limitNotes?e.slice(0,this.limitNotes):e}}},y=D,T=(n("eedf"),Object(c["a"])(y,f,v,!1,null,"86bd1a9c",null)),j=T.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-notes-ui wrap"},[n("div",{staticClass:"content d-flex flex-column"},[n("div",{staticClass:"header-table d-flex justify-between align-center"},[e.note?n("div",{staticClass:"header"},[e._v(" "+e._s(e.note.header)+" ")]):e._e(),n("div",{staticClass:"d-flex"},[e.isChanged?n("div",{staticClass:"button d-flex align-center background-green",on:{click:e.saveManual}},[n("i",{staticClass:"action far fa-check-square transform"}),e._v(" сохранить изменения ")]):e._e(),n("div",{staticClass:"button background-blue d-flex align-center",on:{click:function(t){return e.openCreateTodoModal()}}},[n("i",{staticClass:"action far fa-plus-square"}),e._v(" добавить задачу ")]),n("div",{staticClass:"button d-flex align-center background-red",on:{click:function(t){return e.openDeleteModal()}}},[n("i",{staticClass:"action far fa-trash-alt"}),e._v(" удалить заметку ")])])]),e.filteredNotesTodo?n("div",{staticClass:"content-table"},[n("table",{attrs:{border:"1",width:"100%",cellpadding:"5"}},[e._m(0),e._l(e.filteredNotesTodo,(function(t){return n("tr",{key:t.id},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.done,expression:"todo.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.done)?e._i(t.done,null)>-1:t.done},on:{change:[function(n){var o=t.done,a=n.target,i=!!a.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);a.checked?r<0&&e.$set(t,"done",o.concat([s])):r>-1&&e.$set(t,"done",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(t,"done",i)},e.setChanged]}})]),n("td",[e._v(" "+e._s(t.name)+" ")]),n("td",[n("i",{staticClass:"action far fa-trash-alt red",attrs:{"data-tooltip":"удалить"},on:{click:function(n){return e.openModalDeleteTodo(t)}}})])])}))],2)]):e._e()]),n("div",{staticClass:"d-flex justify-between"},[n("router-link",{attrs:{to:{name:"NotesUI"}}},[n("div",{staticClass:"back button d-flex align-center"},[n("i",{staticClass:"fas fa-arrow-left"})])]),e.note.todo&&e.note.todo.length?n("div",{staticClass:"d-flex filters"},[n("div",{staticClass:"button background-gray d-flex align-center",class:{active:0===e.isActive},on:{click:function(t){e.statusNote="",e.isActive=0}}},[e._v(" Все ")]),n("div",{staticClass:"button background-red d-flex align-center",class:{active:1===e.isActive},on:{click:function(t){e.statusNote="active",e.isActive=1}}},[e._v(" Активные ")]),n("div",{staticClass:"button background-green d-flex align-center",class:{active:2===e.isActive},on:{click:function(t){e.statusNote="done",e.isActive=2}}},[e._v(" Выполненные ")])]):e._e()],1),n("Dialog",{attrs:{title:"Вы действительно хотите удалить заметку?"},on:{agree:e.deleteNote},model:{value:e.isDeleteModal,callback:function(t){e.isDeleteModal=t},expression:"isDeleteModal"}}),n("Dialog",{attrs:{title:"Вы действительно хотите удалить Todo?"},on:{agree:e.deleteTodo},model:{value:e.isDeleteTodoModal,callback:function(t){e.isDeleteTodoModal=t},expression:"isDeleteTodoModal"}}),n("Dialog",{attrs:{title:"Добавить Todo"},on:{agree:e.addTodo},model:{value:e.isCreateModal,callback:function(t){e.isCreateModal=t},expression:"isCreateModal"}},[n("div",{staticClass:"center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.todoName,expression:"todoName"}],attrs:{type:"text",placeholder:"Введите название"},domProps:{value:e.todoName},on:{input:function(t){t.target.composing||(e.todoName=t.target.value)}}})])])],1)},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("Выполнено")]),n("th",[e._v("Задачи")]),n("th",[e._v("Действия")])])}],P=n("1da1"),A=(n("159b"),n("96cf"),{name:"ChangeNotesUI",components:{Dialog:C},data:function(){return{note:null,currentTodo:"",todoName:"",isChanged:!1,isDeleteModal:!1,isDeleteTodoModal:!1,isCreateModal:!1,statusNote:"",isActive:0}},created:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNotes();case 2:case"end":return t.stop()}}),t)})))()},methods:{getNotes:function(){var e=this;k.getNotes(this.$route.params.id).then((function(t){e.note=t}))},saveNote:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=M.a.cloneDeep(e.note),e.filteredNotesTodo.forEach((function(e){var t=n.todo.find((function(t){return t.id===e.id}));t&&(t.done=e.done)})),t.next=4,k.updateNote(e.note.id,n);case 4:return t.next=6,e.getNotes();case 6:e.isChanged=!1;case 7:case"end":return t.stop()}}),t)})))()},deleteNote:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.deleteNote(e.note.id);case 2:return t.next=4,e.getNotes();case 4:return e.isDeleteModal=!1,t.next=7,e.$router.push({name:"NotesUI"});case 7:case"end":return t.stop()}}),t)})))()},addTodo:function(){var e={id:Object(N["a"])(),name:this.todoName,done:!1};this.note.todo.push(e),this.isCreateModal=!1},deleteTodo:function(){var e=this;this.note.todo=this.note.todo.filter((function(t){return t.id!==e.currentTodo.id})),this.isDeleteTodoModal=!1},setChanged:function(){this.isChanged=!0},saveManual:function(){this.saveNote()},openDeleteModal:function(){this.isDeleteModal=!0},openModalDeleteTodo:function(e){this.isDeleteTodoModal=!0,this.currentTodo=e},openCreateTodoModal:function(){this.isCreateModal=!0,this.todoName=""},show:function(){this.isActive=!0}},computed:{filteredNotesTodo:function(){var e,t=this,n=M.a.cloneDeep(null===(e=this.note)||void 0===e?void 0:e.todo)||[];return this.statusNote&&(n=n.filter((function(e){return"active"===t.statusNote&&!e.done||"done"===t.statusNote&&e.done}))),n}}}),S=A,I=(n("7321"),Object(c["a"])(S,O,$,!1,null,"03874fbc",null)),U=I.exports;o["a"].use(u["a"]);var E=[{path:"/",name:"NotesUI",component:j},{path:"/change/:id",name:"ChangeNotesUI",component:U}],R=new u["a"]({mode:"history",base:"/notes-vue/",routes:E}),J=R,q=n("2f62");o["a"].use(q["a"]);var z=new q["a"].Store({state:{},mutations:{},actions:{},modules:{}});o["a"].config.productionTip=!1,new o["a"]({router:J,store:z,render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},7321:function(e,t,n){"use strict";n("5269")},"9c0c":function(e,t,n){},b62e:function(e,t,n){"use strict";n("1970")},eedf:function(e,t,n){"use strict";n("ff0c")},ff0c:function(e,t,n){}});
//# sourceMappingURL=app.6b387758.js.map